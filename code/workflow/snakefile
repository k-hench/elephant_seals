"""
snakemake -n -R all
snakemake -c 1 -R all_examples
"""
import os
from copy import deepcopy
import numpy as np
import pandas as pd

configfile: "workflow/config.yml"

base_dir = os.getcwd() + "/.."

rule all:
    params:
      wd = os.getcwd(),
      base_dir = base_dir
    message:
      '''

      Ahoi there,
      we are using `{params.wd}` as working directory,
      while `{params.base_dir}` is the base directory
      of this project.

      run `snakemake -c 1 -R all_examples` to execute the example run.
      '''

P_NAME = config[ 'alignment_name' ]
SPEC_REF = config[ 'refName' ]
SPEC_QUERY = config[ 'species' ]
SPEC_ALL = deepcopy( SPEC_QUERY )
SPEC_ALL.insert( 0, SPEC_REF )
CACTUS_CORES=config[ 'cactus_cores' ]

include: "./rules/initial_dl.smk"
include: "./rules/repeat_mask.smk"
include: "./rules/align.smk"
include: "./rules/cactus_prep.smk"